分区是将数据分割成多个 Redis 实例，使每个实例将只包含键子集的过程。

分区的好处

* 它允许更大的数据库，使用多台计算机的内存总和。如果不分区，只是一台计算机有限的内存可以支持的数据存储；
* 它允许按比例在多内核和多个计算机计算，以及网络带宽向多台计算机和网络适配器；
分区的劣势
* 涉及多个键的操作通常不支持。例如，如果它们被存储在被映射到不同的 Redis 实例键，则不能在两个集合之间执行交集；
* 涉及多个键时，Redis事务无法使用；
* 分区粒度是一个键，所以它不可能使用一个键和一个非常大的有序集合分享一个数据集；
* 当使用分区，数据处理比较复杂，比如要处理多个RDB/AOF文件，使数据备份需要从多个实例和主机聚集持久性文件；
* 添加和删除的容量可能会很复杂。例如：Redis的Cluster支持数据在运行时添加和删除节点是透明平衡的，但其他系统，如客户端的分区和代理服务器不支持此功能

**分区类型**

Redis 提供有两种类型的分区。假设我们有四个 redis 实例：R0，R1，R2，R3，分别表示用户用户如：user:1, user:2, ...等等

**范围分区**

范围分区被映射对象指定 Redis 实例在一个范围内完成。

在我们的例子中，用户从ID为 0 至 ID10000 将进入实例 R0，而用户 ID 10001到ID 20000 将进入实例 R1 等等。

**散列分区**

在这种类型的分区是一个散列函数（例如，模数函数）用于将键转换为数字数据，然后存储在不同的 redis 实例。
